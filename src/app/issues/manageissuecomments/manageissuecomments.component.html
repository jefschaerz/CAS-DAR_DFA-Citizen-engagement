<div class="container-fluid my-container">
    <div class="row">
        <div class="col-lg-4">
            <div>
                <h4>Manage issue comments</h4>
            </div>
        </div>
        <div class="col-lg-8">
            <app-alert>Alert :</app-alert>
        </div>
    </div>
    <hr>
    <div class="row my-row">
        <!-- Main row -->
        <div class="container-fluid col-md-5 my-container">
            <!-- Container for the Map-->
            <app-map [addNewMarkerOnMapAllowed]=addNewMarkerAllowed>Map</app-map>
        </div>
        <div class="container-fluid col-md-7 my-container">
            <!-- Container for the data collect or display -->
            <!-- Template-driven method-->
            <!-- Form to add a new comment-->
            <h5 class="">Add a new comment</h5>
            <form #AddCommentForm="ngForm">
                <div class="form-group form-inline my-form-group">
                    <input class="form-control col-5"
                           type="text"
                           name="comment"
                           id="comment"
                           #descriptionField="ngModel"
                           [(ngModel)]="this.newComment"
                           maxlength="1000"
                           required
                           ng-pattern
                           placeholder="Add a comment.." />
                    <button type="submit"
                            class="form-control ml-2 mr-2 col-md-2 btn btn-primary float-right"
                            [disabled]="!AddCommentForm.form.valid"
                            (click)="addNewComment()">Add</button>
                </div>
            </form>

            <!-- Not usefule but working <h5 class="">Search in comments</h5>
            <div class="form-group mb-4">
                <input class="form-control"
                       type="text"
                       [(ngModel)]="searchTextInComment"
                       placeholder="Keyword...">
            </div> -->
            <hr>

            <h5 class="">List of comments</h5>
            <table class="table table-hover table-bordered"
                   *ngIf="(issueComments | filter: searchTextInComment).length > 0; else noResults">
                <thead>
                    <tr>
                        <th scope="col-md-8">Comments</th>
                        <th scope="col">CreatedAt</th>
                        <th scope="col">CreatorHref</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let comment of issueComments | filter: searchTextInComment; let index = index; "
                        scope="row">
                        <td>{{comment.text}}</td>
                        <td>{{comment.createdAt | date}} </td>
                        <td>{{comment.id}}</td>

                    </tr>
                </tbody>
            </table>
            <ng-template #noResults>
                <p>No results found for "{{searchTextInComment}}".</p>
            </ng-template>
        </div>
        <br>
        <p> Current comments: {{issueComments | json}}</p>
    </div>
</div>