<h2>New registration</h2>
<form #newRegForm="ngForm" (submit)="onSubmit(newRegForm)">
    <div>
      <label for="username">Username</label>
      <input
        type="text"
        name="username"
        id="username"
        #usernameField="ngModel"
        required
        [(ngModel)]="newUser.name"
        maxlength="25"
        pattern="^[a-zA-Z0-9]+$" ng-pattern
      />
      <!-- TODO : Limit to 25 max and alphanumerical-->
      <p *ngIf="usernameField.hasError('required') && usernameField.touched">
        Username is required
      </p>
      <p *ngIf="usernameField.hasError('pattern') && usernameField.touched">
        Username must be in [a-zA-Z0-9]
      </p>
    </div>
    <div>
        <label for="firstname">First name</label>
        <input
          type="text"
          name="firstname"
          id="firstname"
          #firstnameField="ngModel"
          required
          [(ngModel)]="newUser.firstname"
          minlength="2"
          maxlength="25"
        />
        <p *ngIf="firstnameField.hasError('required') && firstnameField.touched">
          Firstname is required
        </p>
      </div>
      <div>
        <label for="lastname">Last name</label>
        <input
          type="text"
          name="lastname"
          id="lastname"
          #lastnameField="ngModel"
          required
          [(ngModel)]="newUser.lastname"
          minlength="2"
          maxlength="25"
        />
        <p *ngIf="lastnameField.hasError('required') && lastnameField.touched">
          Lastname is required
        </p>
      </div>
      <div>
        <label for="phone">Phone</label>
        <input
          type="text"
          name="phone"
          id="phone"
          #phoneField="ngModel"
          required
          [(ngModel)]="newUser.phone"
          maxlength="20"
        />
        <p *ngIf="phoneField.hasError('required') && phoneField.touched">
          Phone is required
        </p>
      </div>      
    <div>
      <label for="password">Password</label>
      <input
        type="password"
        name="password"
        id="password"
        #passwordField="ngModel"
        required
        [(ngModel)]="newUser.password"
      />
      <p *ngIf="passwordField.hasError('required') && passwordField.touched">
        Password is required
      </p>
    </div>
    <!-- Add confirmation password -->
    <div>
      <button type="submit" [disabled]="newRegForm.invalid">Create</button>
      <p *ngIf="newRegError">
        Unable to create the new user. See the log for more information.
      </p>
    </div>
</form>

